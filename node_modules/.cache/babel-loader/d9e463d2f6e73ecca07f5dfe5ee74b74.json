{"ast":null,"code":"var _jsxFileName = \"E:\\\\PROJECT\\\\WEB\\\\sebgnd-photography\\\\front-end\\\\src\\\\components\\\\_containers\\\\Home\\\\Home.tsx\";\nimport React, { Component, Fragment } from 'react';\nimport Parallax from '../../UI/Parallax/Parallax';\nimport Landing from '../../Landing/Landing';\nimport GalleriesPreview from '../../GalleriesPreview/GalleriesPreview';\nimport About from '../../About/About';\nimport Image from '../../../helper/image/Image';\nimport HttpRequest from '../../../helper/http/HttpRequest';\nimport Category from '../../../helper/Category';\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      categoryThumbnails: [],\n      error: false,\n      errorMessage: '',\n      loading: true\n    };\n  }\n\n  setError(errorMessage) {\n    this.setState({\n      error: true,\n      loading: false\n    });\n  }\n\n  handleFetchError(data) {\n    if (!data) {\n      this.setError('Something unexptected happened. Please try again later.');\n      return true;\n    }\n\n    if (data.error) {\n      this.setError(data.error.message);\n      return true;\n    }\n\n    return false;\n  }\n\n  async fetchGalleries() {\n    try {\n      const data = await HttpRequest.getData('http://localhost:8000/categories/limit/3');\n\n      if (!this.handleFetchError(data)) {\n        const categoryThumbnails = data.map(curCategory => {\n          const category = new Category(curCategory.id, curCategory.displayName);\n          const image = new Image(curCategory.thumbnail.id, new Date(curCategory.thumbnail.id), category);\n          return image;\n        });\n        this.setState({\n          loading: false,\n          categoryThumbnails\n        });\n      }\n    } catch (e) {\n      this.setError('Something unexptected happened. Please try again later');\n    }\n  }\n\n  componentDidMount() {\n    this.fetchGalleries();\n  }\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Parallax, {\n      img: \"images/parallax-1.jpg\",\n      speed: 0.5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Landing, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(GalleriesPreview, {\n      categoryThumbnails: this.state.categoryThumbnails,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Parallax, {\n      img: \"images/parallax-2.jpg\",\n      speed: 0.5,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(About, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["E:/PROJECT/WEB/sebgnd-photography/front-end/src/components/_containers/Home/Home.tsx"],"names":["React","Component","Fragment","Parallax","Landing","GalleriesPreview","About","Image","HttpRequest","Category","Home","state","categoryThumbnails","error","errorMessage","loading","setError","setState","handleFetchError","data","message","fetchGalleries","getData","map","curCategory","category","id","displayName","image","thumbnail","Date","e","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component, FormEvent, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport Parallax from '../../UI/Parallax/Parallax';\r\n\r\nimport Landing from '../../Landing/Landing';\r\nimport GalleriesPreview from '../../GalleriesPreview/GalleriesPreview';\r\nimport About from '../../About/About';\r\n\r\nimport Image from '../../../helper/image/Image';\r\nimport GalleryThumbnail from '../../../helper/gallery/GalleryThumbnail';\r\nimport HttpRequest from '../../../helper/http/HttpRequest';\r\nimport Category from '../../../helper/Category';\r\n\r\ninterface HomeState {\r\n    categoryThumbnails: GalleryThumbnail[];\r\n    error: boolean;\r\n    loading: boolean\r\n}\r\n\r\nclass Home extends Component<{}, HomeState> {\r\n    state = {\r\n        categoryThumbnails: [],\r\n        error: false,\r\n        errorMessage: '',\r\n        loading: true,\r\n    }\r\n\r\n    setError(errorMessage: string) {\r\n        this.setState({ error: true, loading: false });\r\n    }\r\n\r\n    handleFetchError(data: any | null): boolean {\r\n        if (!data) {\r\n            this.setError('Something unexptected happened. Please try again later.');\r\n            return true;\r\n        }\r\n        if (data.error) {\r\n            this.setError(data.error.message);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    async fetchGalleries() {\r\n        try {\r\n            const data: any | null = await HttpRequest.getData('http://localhost:8000/categories/limit/3');\r\n\r\n            if (!this.handleFetchError(data)) {\r\n                const categoryThumbnails: Image[] = data.map((curCategory: any) => {\r\n                    const category: Category = new Category(curCategory.id, curCategory.displayName);\r\n                    const image: Image = new Image(curCategory.thumbnail.id, new Date(curCategory.thumbnail.id), category);\r\n                    return image;\r\n                });\r\n                this.setState({ loading: false, categoryThumbnails });\r\n            }\r\n        } catch (e) {\r\n            this.setError('Something unexptected happened. Please try again later');\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchGalleries();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <Parallax img=\"images/parallax-1.jpg\" speed={0.5}>\r\n                    <Landing />\r\n                </Parallax>\r\n                <GalleriesPreview categoryThumbnails={this.state.categoryThumbnails} />\r\n                <Parallax img=\"images/parallax-2.jpg\" speed={0.5} >\r\n                    <About />\r\n                </Parallax>\r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}