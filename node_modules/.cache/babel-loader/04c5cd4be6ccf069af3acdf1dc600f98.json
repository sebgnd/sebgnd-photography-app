{"ast":null,"code":"var _jsxFileName = \"E:\\\\PROJECT\\\\WEB\\\\sebgnd-photography\\\\front-end\\\\src\\\\components\\\\_containers\\\\Galleries\\\\Galleries.tsx\";\nimport React, { Component } from 'react';\nimport GalleriesList from '../../GalleriesList/GalleriesList';\nimport Gallery from '../../../helper/Gallery';\nimport Image from '../../../helper/Image';\n\nclass Galleries extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      galleries: []\n    };\n  }\n\n  fetchGalleries() {\n    fetch('http://localhost:8000/galleries').then(res => {\n      if (res.status !== 200) {\n        this.setState({\n          error: true,\n          loading: false\n        });\n        return;\n      }\n\n      return res.json();\n    }).then(result => {\n      const galleries = [];\n\n      for (let i = 0; i < result.length; i++) {\n        const thumbnail = new Image(result[i].thumbnail.id, result[i].id, new Date(result[i].thumbnail.uploadDate));\n        const gallery = new Gallery(result[i].id, result[i].displayName, thumbnail);\n        galleries.push(gallery);\n      }\n\n      this.setState({\n        loading: false,\n        galleries\n      });\n    }).catch(err => {\n      this.setState({\n        error: true,\n        loading: false\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.fetchGalleries();\n  }\n\n  render() {\n    return React.createElement(GalleriesList, {\n      galleries: this.state.galleries,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  }\n\n}\n\nexport default Galleries;","map":{"version":3,"sources":["E:/PROJECT/WEB/sebgnd-photography/front-end/src/components/_containers/Galleries/Galleries.tsx"],"names":["React","Component","GalleriesList","Gallery","Image","Galleries","state","galleries","fetchGalleries","fetch","then","res","status","setState","error","loading","json","result","i","length","thumbnail","id","Date","uploadDate","gallery","displayName","push","catch","err","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,aAAP,MAA0B,mCAA1B;AAEA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,KAAP,MAAkB,uBAAlB;;AAMA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAC9BK,KAD8B,GACtB;AACJC,MAAAA,SAAS,EAAE;AADP,KADsB;AAAA;;AAK9BC,EAAAA,cAAc,GAAG;AACbC,IAAAA,KAAK,CAAC,iCAAD,CAAL,CACKC,IADL,CACUC,GAAG,IAAI;AACT,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACpB,aAAKC,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAE,IAAT;AAAeC,UAAAA,OAAO,EAAE;AAAxB,SAAd;AACA;AACH;;AACD,aAAOJ,GAAG,CAACK,IAAJ,EAAP;AACH,KAPL,EAQKN,IARL,CAQUO,MAAM,IAAI;AACZ,YAAMV,SAAoB,GAAG,EAA7B;;AACA,WAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,MAAM,CAACE,MAA3B,EAAmCD,CAAC,EAApC,EAAwC;AACpC,cAAME,SAAS,GAAG,IAAIhB,KAAJ,CAAUa,MAAM,CAACC,CAAD,CAAN,CAAUE,SAAV,CAAoBC,EAA9B,EAAkCJ,MAAM,CAACC,CAAD,CAAN,CAAUG,EAA5C,EAAgD,IAAIC,IAAJ,CAASL,MAAM,CAACC,CAAD,CAAN,CAAUE,SAAV,CAAoBG,UAA7B,CAAhD,CAAlB;AACA,cAAMC,OAAO,GAAG,IAAIrB,OAAJ,CAAYc,MAAM,CAACC,CAAD,CAAN,CAAUG,EAAtB,EAA0BJ,MAAM,CAACC,CAAD,CAAN,CAAUO,WAApC,EAAiDL,SAAjD,CAAhB;AACAb,QAAAA,SAAS,CAACmB,IAAV,CAAeF,OAAf;AACH;;AACD,WAAKX,QAAL,CAAc;AAAEE,QAAAA,OAAO,EAAE,KAAX;AAAkBR,QAAAA;AAAlB,OAAd;AACH,KAhBL,EAiBKoB,KAjBL,CAiBWC,GAAG,IAAI;AACV,WAAKf,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,OAAO,EAAE;AAAxB,OAAd;AACH,KAnBL;AAoBH;;AAEDc,EAAAA,iBAAiB,GAAG;AAChB,SAAKrB,cAAL;AACH;;AAEDsB,EAAAA,MAAM,GAAG;AACL,WACI,oBAAC,aAAD;AAAe,MAAA,SAAS,EAAE,KAAKxB,KAAL,CAAWC,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ;AAGH;;AApC6B;;AAuClC,eAAeF,SAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport GalleriesList from '../../GalleriesList/GalleriesList';\r\n\r\nimport Gallery from '../../../helper/Gallery';\r\nimport Image from '../../../helper/Image';\r\n\r\ninterface GalleriesState {\r\n    galleries: Gallery[];\r\n}\r\n\r\nclass Galleries extends Component {\r\n    state = {\r\n        galleries: []\r\n    }\r\n\r\n    fetchGalleries() {\r\n        fetch('http://localhost:8000/galleries')\r\n            .then(res => {\r\n                if (res.status !== 200) {\r\n                    this.setState({ error: true, loading: false });\r\n                    return;\r\n                }\r\n                return res.json();\r\n            })\r\n            .then(result => {\r\n                const galleries: Gallery[] = [];\r\n                for (let i = 0; i < result.length; i++) {\r\n                    const thumbnail = new Image(result[i].thumbnail.id, result[i].id, new Date(result[i].thumbnail.uploadDate));\r\n                    const gallery = new Gallery(result[i].id, result[i].displayName, thumbnail);\r\n                    galleries.push(gallery);\r\n                }\r\n                this.setState({ loading: false, galleries });\r\n            })\r\n            .catch(err => {\r\n                this.setState({ error: true, loading: false });\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchGalleries();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <GalleriesList galleries={this.state.galleries} />\r\n        )\r\n    }\r\n}\r\n\r\nexport default Galleries;"]},"metadata":{},"sourceType":"module"}